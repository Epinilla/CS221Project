# import requests
# import pandas as pd
# import lxml.html as lh
# from bs4 import BeautifulSoup
# from operator import itemgetter
# from selenium import webdriver

# 
#https://api.weather.com/v2/astro?apiKey=6532d6454b8aa370768e63d6ba5a832e&geocode=44.88027954%2C-93.21666718&days=1&date=20150101&format=json
#https://api-ak.wunderground.com/api/d8585d80376a429e/history_20150101/lang:EN/units:english/bestfct:1/v:2.0/q/KMSP.json?showObs=0&ttl=120
#https://api.weather.com/v1/geocode/44.88027954/-93.21666718/observations/historical.json?apiKey=6532d6454b8aa370768e63d6ba5a832e&startDate=20150101&endDate=20150101&units=e
'''
{"metadata":{"language":"en-US","transaction_id":"1542262362799:1992417392","version":"1","latitude":44.88,"longitude":-93.21,"units":"e","expire_time_gmt":1542265962,"status_code":200},"observations":[{"key":"KMSP","class":"observation","expire_time_gmt":1420102380,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420095180,"day_ind":"N","temp":11,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":5,"heat_index":11,"rh":77,"pressure":29.02,"vis":10,"wc":-3,"wdir":240,"wdir_cardinal":"WSW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":-3,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420105980,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420098780,"day_ind":"N","temp":12,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":6,"heat_index":12,"rh":77,"pressure":29.02,"vis":10,"wc":-1,"wdir":240,"wdir_cardinal":"WSW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":-1,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420109580,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420102380,"day_ind":"N","temp":13,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":2,"pressure_desc":"Falling","dewPt":7,"heat_index":13,"rh":77,"pressure":29.0,"vis":10,"wc":2,"wdir":220,"wdir_cardinal":"SW","gust":null,"wspd":8,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":2,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420113180,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420105980,"day_ind":"N","temp":14,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":8,"heat_index":14,"rh":77,"pressure":28.98,"vis":10,"wc":-1,"wdir":230,"wdir_cardinal":"SW","gust":null,"wspd":14,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":-1,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420116780,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420109580,"day_ind":"N","temp":15,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":8,"heat_index":15,"rh":74,"pressure":28.96,"vis":10,"wc":3,"wdir":240,"wdir_cardinal":"WSW","gust":null,"wspd":9,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":3,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420120380,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420113180,"day_ind":"N","temp":16,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":2,"pressure_desc":"Falling Rapidly","dewPt":10,"heat_index":16,"rh":77,"pressure":28.94,"vis":10,"wc":5,"wdir":240,"wdir_cardinal":"WSW","gust":null,"wspd":8,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":5,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420123980,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420116780,"day_ind":"N","temp":17,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":10,"heat_index":17,"rh":74,"pressure":28.94,"vis":10,"wc":4,"wdir":230,"wdir_cardinal":"SW","gust":null,"wspd":12,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":4,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420127580,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420120380,"day_ind":"D","temp":17,"wx_icon":14,"icon_extd":1601,"wx_phrase":"Light Snow","pressure_tend":null,"pressure_desc":null,"dewPt":11,"heat_index":17,"rh":77,"pressure":28.94,"vis":8,"wc":6,"wdir":230,"wdir_cardinal":"SW","gust":null,"wspd":9,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0.00,"snow_hrly":null,"uv_desc":"Low","feels_like":6,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420131180,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420123980,"day_ind":"D","temp":19,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":1,"pressure_desc":"Rising Rapidly","dewPt":13,"heat_index":19,"rh":77,"pressure":28.95,"vis":10,"wc":7,"wdir":240,"wdir_cardinal":"WSW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0.00,"snow_hrly":null,"uv_desc":"Low","feels_like":7,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420134780,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420127580,"day_ind":"D","temp":21,"wx_icon":28,"icon_extd":2800,"wx_phrase":"Mostly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":14,"heat_index":21,"rh":74,"pressure":28.96,"vis":10,"wc":11,"wdir":240,"wdir_cardinal":"WSW","gust":null,"wspd":9,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":11,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"BKN","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420138380,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420131180,"day_ind":"D","temp":24,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":15,"heat_index":24,"rh":69,"pressure":28.98,"vis":10,"wc":14,"wdir":250,"wdir_cardinal":"WSW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":14,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420141980,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420134780,"day_ind":"D","temp":27,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":0,"pressure_desc":"Steady","dewPt":18,"heat_index":27,"rh":69,"pressure":28.97,"vis":10,"wc":17,"wdir":270,"wdir_cardinal":"W","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":17,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420145580,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420138380,"day_ind":"D","temp":29,"wx_icon":30,"icon_extd":3000,"wx_phrase":"Partly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":19,"heat_index":29,"rh":67,"pressure":28.98,"vis":10,"wc":20,"wdir":290,"wdir_cardinal":"WNW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":20,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"SCT","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420147680,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420140480,"day_ind":"D","temp":30,"wx_icon":28,"icon_extd":2800,"wx_phrase":"Mostly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":19,"heat_index":30,"rh":64,"pressure":28.99,"vis":10,"wc":20,"wdir":310,"wdir_cardinal":"NW","gust":null,"wspd":13,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":20,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"BKN","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420149180,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420141980,"day_ind":"D","temp":30,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":20,"heat_index":30,"rh":66,"pressure":29.0,"vis":10,"wc":21,"wdir":310,"wdir_cardinal":"NW","gust":null,"wspd":12,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":21,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420150860,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420143660,"day_ind":"D","temp":30,"wx_icon":28,"icon_extd":2800,"wx_phrase":"Mostly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":20,"heat_index":30,"rh":66,"pressure":29.01,"vis":10,"wc":20,"wdir":300,"wdir_cardinal":"WNW","gust":21,"wspd":14,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":20,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"BKN","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420152780,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420145580,"day_ind":"D","temp":30,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":1,"pressure_desc":"Rising Rapidly","dewPt":20,"heat_index":30,"rh":66,"pressure":29.03,"vis":10,"wc":22,"wdir":300,"wdir_cardinal":"WNW","gust":null,"wspd":9,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":22,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420156380,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420149180,"day_ind":"D","temp":30,"wx_icon":28,"icon_extd":2800,"wx_phrase":"Mostly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":20,"heat_index":30,"rh":66,"pressure":29.05,"vis":10,"wc":20,"wdir":300,"wdir_cardinal":"WNW","gust":null,"wspd":14,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":20,"uv_index":1,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"BKN","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420159980,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420152780,"day_ind":"N","temp":29,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":20,"heat_index":29,"rh":69,"pressure":29.09,"vis":10,"wc":20,"wdir":290,"wdir_cardinal":"WNW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":20,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420163580,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420156380,"day_ind":"N","temp":29,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":1,"pressure_desc":"Rising Rapidly","dewPt":20,"heat_index":29,"rh":69,"pressure":29.12,"vis":10,"wc":19,"wdir":310,"wdir_cardinal":"NW","gust":null,"wspd":12,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":19,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420164960,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420157760,"day_ind":"N","temp":28,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":18,"heat_index":28,"rh":66,"pressure":29.13,"vis":10,"wc":17,"wdir":320,"wdir_cardinal":"NW","gust":null,"wspd":15,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":17,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"OVC","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420166160,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420158960,"day_ind":"N","temp":27,"wx_icon":27,"icon_extd":2700,"wx_phrase":"Mostly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":17,"heat_index":27,"rh":66,"pressure":29.14,"vis":10,"wc":16,"wdir":330,"wdir_cardinal":"NNW","gust":25,"wspd":14,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":16,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"BKN","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420167180,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420159980,"day_ind":"N","temp":26,"wx_icon":27,"icon_extd":2700,"wx_phrase":"Mostly Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":16,"heat_index":26,"rh":66,"pressure":29.16,"vis":10,"wc":14,"wdir":320,"wdir_cardinal":"NW","gust":22,"wspd":14,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":14,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"BKN","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420170780,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420163580,"day_ind":"N","temp":23,"wx_icon":33,"icon_extd":3300,"wx_phrase":"Fair","pressure_tend":null,"pressure_desc":null,"dewPt":14,"heat_index":23,"rh":68,"pressure":29.18,"vis":10,"wc":12,"wdir":330,"wdir_cardinal":"NNW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":12,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"CLR","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420174380,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420167180,"day_ind":"N","temp":21,"wx_icon":33,"icon_extd":3300,"wx_phrase":"Fair","pressure_tend":1,"pressure_desc":"Rising","dewPt":10,"heat_index":21,"rh":63,"pressure":29.21,"vis":10,"wc":10,"wdir":340,"wdir_cardinal":"NNW","gust":null,"wspd":10,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":10,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"CLR","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420177980,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420170780,"day_ind":"N","temp":18,"wx_icon":33,"icon_extd":3300,"wx_phrase":"Fair","pressure_tend":null,"pressure_desc":null,"dewPt":6,"heat_index":18,"rh":60,"pressure":29.23,"vis":10,"wc":7,"wdir":320,"wdir_cardinal":"NW","gust":null,"wspd":9,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":7,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"CLR","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420181580,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420174380,"day_ind":"N","temp":16,"wx_icon":33,"icon_extd":3300,"wx_phrase":"Fair","pressure_tend":null,"pressure_desc":null,"dewPt":6,"heat_index":16,"rh":65,"pressure":29.25,"vis":10,"wc":4,"wdir":310,"wdir_cardinal":"NW","gust":null,"wspd":9,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":4,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"CLR","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null},{"key":"KMSP","class":"observation","expire_time_gmt":1420185180,"obs_id":"KMSP","obs_name":"Minneapolis","valid_time_gmt":1420177980,"day_ind":"N","temp":13,"wx_icon":33,"icon_extd":3300,"wx_phrase":"Fair","pressure_tend":1,"pressure_desc":"Rising Rapidly","dewPt":3,"heat_index":13,"rh":65,"pressure":29.27,"vis":10,"wc":2,"wdir":300,"wdir_cardinal":"WNW","gust":null,"wspd":8,"max_temp":30,"min_temp":11,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":2,"uv_index":0,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"CLR","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null}]}
'''
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from bs4 import BeautifulSoup
import urllib2
import requests
import re
import pandas as pd
from tabulate import tabulate
import os


path = os.getcwd()
print path
#launch url
url = 'https://www.wunderground.com/history/daily/KMSP/date/2015-1-1?req_city=Minneapolis-Saint%20Paul%20International&req_state=MN&req_statename=Minnesota&reqdb.zip=55450&reqdb.magic=5&reqdb.wmo=99999'
page = urllib2.urlopen(url)
soup = BeautifulSoup(page, 'html.parser')
# print soup 
# print "\n"
count = 0

stuff = soup.find('div',class_ = 'region-content-header')
# print stuff
# print stuff.text
stuff = stuff.text.split()
lat = stuff[2] + stuff[3][-2]
if lat[-1] == 'S':
	lat = '-'+lat[:-1]
else:
	lat = lat[:-1]

print lat
longitude = stuff[4] + stuff[5][-1]
print longitude
if longitude[-1] == 'W':
	longitude = '-'+longitude[:-1]
else: longitude = longitude[:-1]

print longitude

url2 = 'https://api.weather.com/v1/geocode/{}/{}/observations/historical.json?apiKey=6532d6454b8aa370768e63d6ba5a832e&startDate=20150101&endDate=20150101&units=e'.format(lat,longitude)
page2 = urllib2.urlopen(url2)
soup2 = BeautifulSoup(page2, 'html.parser')


print soup2

